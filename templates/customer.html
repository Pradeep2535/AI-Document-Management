<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UI/UX</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@48,400,0,0" />
  <link rel="stylesheet" href="/static/css/customer.css">
  
  <style>
    #salesContainer {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }
    .sales {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
   <div class="container">
      <aside style="position: fixed;">
         
         <div class="top">
           <div class="logo">
             <h2>C <span class="danger">BABAR</span> </h2>
           </div>
           <div class="close" id="close_btn">
            <span class="material-symbols-sharp">
              close
              </span>
           </div>
         </div>
         <!-- end top -->
          <div class="sidebar">

            <a href="/">
              <span class="material-symbols-sharp">grid_view </span>
              <h3>Dashbord</h3>
           </a>
           <a href="/customer"  class="active">
              <span class="material-symbols-sharp">person_outline </span>
              <h3>custumers</h3>
           </a>
           <a href="#">
              <span class="material-symbols-sharp">insights </span>
              <h3>Analytics</h3>
           </a>
           <a href="/chat">
              <span class="material-symbols-sharp">mail_outline </span>
              <h3>Messages</h3>
           
           </a>
           <a href="/upload">
              <span class="material-symbols-sharp">receipt_long </span>
              <h3>Upload</h3>
           </a>
           <a href="/transaction">
              <span class="material-symbols-sharp">report_gmailerrorred </span>
              <h3>Transaction History</h3>
           </a>
           <a href="#">
              <span class="material-symbols-sharp">settings </span>
              <h3>settings</h3>
           </a>
           <a href="#">
              <span class="material-symbols-sharp">add </span>
              <h3>Add policy</h3>
           </a>
           <a href="#">
              <span class="material-symbols-sharp">logout </span>
              <h3 id="logoutButton">logout</h3>

               <!-- Dialog Box -->
                <div id="dialogBox" class="dialog-box">
                    <div class="dialog-content">
                        <h3>Are you sure you want to log out?</h3>
                        <div class="dialog-actions">
                            <button id="confirmLogout" class="confirm-btn">Yes</button>
                            <button id="cancelLogout" class="cancel-btn">Cancel</button>
                        </div>
                    </div>
                </div>
           </a>
          </div>
      </aside>
      <!-- --------------
        end asid
      -------------------- -->

      <!-- --------------
        start main part
      --------------- -->

      <main>
        <div class="dashboard-item"> 
            <h1>New Customer</h1>

        <div class="insights" id="salesContainer">
            <!-- Sales cards will be dynamically added here -->
        </div>
        </div>
    </main>
      <!------------------
         end main
        ------------------->

      <!----------------
        start right main 
      ---------------------->
    
   <div id="linkModal" class="modal">
      <div class="modal-content">
         <span class="close-modal">&times;</span>
         <h2>Send Link</h2>
         <p>Are you sure you want to send the link?</p>
         <button id="confirmSendLink" class="confirm-btn">Yes</button>
         <button id="cancelSendLink" class="cancel-btn">Cancel</button>
      </div>
   </div>

   <script src="/static/js/script.js"></script>
   <script>
    // Simulated length variable
    
    const length = 10;  // Number of sales cards to generate
     const salesContainer = document.getElementById('salesContainer');
     const linkModal = document.getElementById('linkModal');
     const closeModal = document.querySelector('.close-modal');
     const confirmSendLink = document.getElementById('confirmSendLink');
     const cancelSendLink = document.getElementById('cancelSendLink');

     for (let i = 0; i < length; i++) {
       const salesCard = document.createElement('div');
       salesCard.classList.add('sales');
       salesCard.innerHTML = `
         <div class="update" style="display: flex; margin:5px;">
                    <div class="profile-photo" style="margin:30px;">
                    <img src="/static/assets/profile-3.jpg" alt=""/>
                    </div>
                   <div class="message">
                      <h4><b>Praveen</b>-K</h4>
                      <p></b>Customer id:</b>1234567890</p>
                      <p><b>Account type:</b>Savings</p>
                      <div class="dialog-actions">
                        
                        <button class="cancel-btn send-link-btn"  style="margin:10px;">Send link</button>
                    </div>
                   </div>
                 </div>
            <br>
       `;
       salesContainer.appendChild(salesCard);
      }

      document.querySelectorAll('.send-link-btn').forEach(button => {
         button.addEventListener('click', () => {
            linkModal.style.display = 'block';
         });
      });

      closeModal.addEventListener('click', () => {
         linkModal.style.display = 'none';
      });

      cancelSendLink.addEventListener('click', () => {
         linkModal.style.display = 'none';
      });

      confirmSendLink.addEventListener('click', () => {
         fetch('/send-link', {
            method: 'POST',
            headers: {
               'Content-Type': 'application/json'
            },
            body: JSON.stringify({ message: 'Send link confirmed' })
         })
         .then(response => response.json())
         .then(data => {
            console.log('Success:', data);
            linkModal.style.display = 'none';
         })
         .catch((error) => {
            console.error('Error:', error);
         });
      });

      window.onclick = function(event) {
         if (event.target == linkModal) {
            linkModal.style.display = 'none';
         }
      }
  </script>
</body>
</html>
